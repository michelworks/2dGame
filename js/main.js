!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(self,(function(){return(()=>{"use strict";var e={729:(e,t)=>{var n=function(){function e(e){this._level=0,this._maps=[],this._maps=e}return e.prototype.setLevel=function(e){this._level=e},e.prototype.getLevel=function(){return this._level},e.prototype.getMap=function(){return this._maps[this.getLevel()]},e.prototype.update=function(){},e.prototype.render=function(){},e}();t.Z=n}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{n.r(i);var e="down",t="left",r="right",a={38:"up",37:t,39:r,40:e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.held_directions=[],this.listeners(),this.position={x:0,y:0},this.speed=1,this.pixelSize=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--pixel-size")),this.character=e}var i,s;return i=n,(s=[{key:"update",value:function(){var n=this.held_directions[0];if(n){switch(n){case r:this.position.x+=this.speed;break;case t:this.position.x-=this.speed;break;case e:this.position.y+=this.speed;break;case"up":this.position.y-=this.speed}this.character.setAttribute("facing",n)}this.character.setAttribute("walking",n?"true":"false"),this.character.style.transform="translate3d(".concat(this.position.x*this.pixelSize,"px,\n    ").concat(this.position.y*this.pixelSize,"px, 0)")}},{key:"getPosition",value:function(){return this.position}},{key:"listeners",value:function(){var e=this;document.addEventListener("keydown",(function(t){var n=a[t.which];n&&-1===e.held_directions.indexOf(n)&&e.held_directions.unshift(n)})),document.addEventListener("keyup",(function(t){var n=a[t.which],i=e.held_directions.indexOf(n);i>-1&&e.held_directions.splice(i,1)}))}},{key:"render",value:function(){}}])&&o(i.prototype,s),n}();function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"update",value:function(){}},{key:"render",value:function(){}}])&&u(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layout=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,3,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,4,4,4,4,4,4,4,4,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,2,2,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,4,4,4,4,4,4,0,0,0,4,1,2,2,2,2,2,2,1,4,0,0,0,4,4,4,4,4,4,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,3,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],this.scene=t,this.sceneData=this.scene.getBoundingClientRect(),this.pixelSize=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--pixel-size")),this.camera_left=0,this.camera_top=0,this.position={x:0,y:0}}var t,n;return t=e,(n=[{key:"setPosition",value:function(e){this.position=e}},{key:"update",value:function(){this.scene.style.transform="translate3d(".concat(-this.position.x,"px, ").concat(-this.position.y,"px, 0)")}},{key:"render",value:function(){}}])&&l(t.prototype,n),e}();function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.animation_frame_request=void 0,this.time=void 0,this.time_step=t,this.updated=!1,this.update=void 0,this.render=void 0}var t,n;return t=e,(n=[{key:"_run",value:function(e){for(this.animation_frame_request=window.requestAnimationFrame(this._handleRun.bind(this)),this.accumelated_time+=e-this.time,this.time=e,this.accumelated_time>=3*this.time_step&&(this.accumelated_time=this.time_step);this.accumelated_time>=this.time_step;)this.accumelated_time-=this.time_step,this.update(e),this.updated=!0;this.updated&&(this.updated=!1,this.render(e))}},{key:"_handleRun",value:function(e){this._run(e)}},{key:"setUpdate",value:function(e){this.update=e}},{key:"setRender",value:function(e){this.render=e}},{key:"start",value:function(){this.accumelated_time=this.time_step,this.time=window.performance.now(),this.animation_frame_request=window.requestAnimationFrame(this._handleRun.bind(this))}},{key:"stop",value:function(){window.cancelAnimationFrame(this.animation_frame_request)}}])&&h(t.prototype,n),e}(),p=n(729);function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=t,this.settings=i,this.mainMenu=n,this.isStarted=!0,this.camera=r}var t,n;return t=e,(n=[{key:"_listeners",value:function(){}},{key:"isStarted",value:function(){return this.isStarted}},{key:"settings",value:function(){this.isStarted=!1}},{key:"mainMenu",value:function(){this.isStarted=!1}},{key:"start",value:function(){this.isStarted=!0}},{key:"update",value:function(e){}},{key:"render",value:function(e){}}])&&m(t.prototype,n),e}();window.addEventListener("DOMContentLoaded",(function(e){var t=document.querySelector(".game"),n=t.querySelector(".main__menu"),i=t.querySelector(".settings"),r=t.querySelector(".player"),a=t.querySelector(".map__scene"),o=new s(r),u=new p.Z([]),l=new d(a),h=new c,m=new f(1e3/30),v=new y(t,n,i);console.log("hwuyt"),m.setUpdate((function(){v.update(),v.isStarted?(u.update(),o.update(),l.setPosition(o.getPosition()),l.update(),h.update()):m.stop()})),m.setRender((function(e){v.render(),v.isStarted?(u.render(),l.render(),o.render(),h.render()):m.stop()})),m.start()}))})(),i})()}));
//# sourceMappingURL=main.js.map